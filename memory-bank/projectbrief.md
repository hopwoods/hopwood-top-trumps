# Project Brief: Top Trumps Digital Card Game (Mobile-First)

This document outlines the project brief for a digital Top Trumps style collectible card game.

## 1. Project Vision
To create an engaging, mobile-first Top Trumps card game where users can create custom cards with AI-generated artwork, build decks, and compete against other players in real-time.

## 2. Core Game Concept
*   **Game Type:** Digital collectible card game, Top Trumps style.
*   **Platform:** Mobile-first web application, accessible via modern web browsers.
*   **Core Loop:**
    1.  Users register and log in (Email/Password or Google Sign-In).
    2.  Users create and customize decks of up to 20 cards.
    3.  Each card features:
        *   A unique name.
        *   Artwork generated by the Gemini AI based on a user-provided prompt.
        *   6 D&D-style attributes (Strength, Dexterity, Constitution, Intelligence, Wisdom, Charisma).
        *   A total of 50 points distributed by the user across these 6 attributes.
        *   Optionally, up to 5 cards per deck can each have one of 5 predefined special abilities that affect gameplay for the current round.
    4.  Users can initiate and play a game against another player.
    5.  Gameplay involves players comparing selected attributes from their current card, with the higher attribute winning the round. The game proceeds in real-time.
    6.  **Detailed Gameplay Loop (Turn-by-Turn):**
        *   **Start of Game:** Players' chosen decks are shuffled. Each player's hand is their deck.
        *   **Player's Turn (Attacker):** The player whose turn it is views their top card.
        *   **Attribute Selection:** The attacker selects one of the 6 attributes on their card.
        *   **Card Reveal & Comparison:** Both players' top cards are revealed. The values of the selected attribute are compared.
        *   **Round Winner:** The player with the higher value wins the round.
        *   **Draws:** In case of a draw, cards involved are placed in a central "pot". The winner of the next round collects these pot cards in addition to the cards from that round.
        *   **Card Collection:** The winner collects both cards from the round (and any pot cards) and places them at the bottom of their deck.
        *   **Next Turn:** The winner of the round attacks next.
        *   **Game End:** The game ends when one player has all the cards.

## 3. Key Features
*   User authentication (Email/Password, Google Sign-In).
*   Deck creation and management (max 20 cards per deck).
*   Card customization:
    *   Naming.
    *   AI (Gemini) artwork generation from prompts.
    *   Point allocation for 6 D&D attributes (50 points total).
    *   Assignment of one of 5 predefined special abilities to up to 5 cards per deck.
*   Real-time multiplayer gameplay.
*   Attribute comparison logic to determine round winners.

## 4. Target Audience
*   Players who enjoy casual card games and Top Trumps.
*   Users interested in creative elements like AI art generation and character/card customization.
*   Mobile gamers looking for a quick, engaging multiplayer experience.

## 5. Technical Overview (High-Level)
*   **Frontend:** React, Vite, TypeScript.
*   **State Management:** XState.
*   **Styling:** Griffel (CSS-in-JS) with Headless UI.
*   **Backend:** Firebase Functions (TypeScript).
*   **Database:** Firebase Firestore (with real-time capabilities).
*   **Authentication:** Firebase Authentication.
*   **AI Artwork:** Gemini API.
*   **Image Storage:** Firebase Storage.
*   **Testing:** Vitest (unit/integration), Playwright (E2E).
*   **UI/UX:** Mobile-first, clean modern UI with a fantasy theme, dark color palette, purple & gold accents. Typography: Macondo (headings), Nunito Sans (body).

## 6. Goals
*   Deliver a functional and engaging MVP (Minimum Viable Product) encompassing the core loop.
*   Provide a smooth and intuitive user experience, especially on mobile devices.
*   Successfully integrate AI artwork generation as a key feature.
*   Implement robust real-time multiplayer functionality.
