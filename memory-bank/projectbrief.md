# Project Brief: FableForge (Mobile-First Digital Card Game)

This document outlines the project brief for FableForge, a digital Top Trumps style collectible card game.

## 1. Project Vision
To create an engaging, mobile-first card game, FableForge, where users can create custom cards with AI-generated artwork, build decks, and compete against other players in real-time.

## 2. Core Game Concept
*   **Game Type:** Digital collectible card game, Top Trumps style.
*   **Platform:** Mobile-first web application, accessible via modern web browsers.
*   **Core Loop:**
    1.  Users register and log in (Email/Password or Google Sign-In).
    2.  Users create and customize decks of up to 20 cards.
    3.  Each card features:
        *   A unique name.
        *   Artwork generated by the Gemini AI based on a user-provided prompt.
        *   6 D&D-style attributes (Strength, Dexterity, Constitution, Intelligence, Wisdom, Charisma).
        *   A total of 50 points distributed by the user across these 6 attributes.
        *   Optionally, up to 5 cards per deck can each have one of 5 predefined special abilities that affect gameplay for the current round.
    4.  Users can initiate and play a game against another player.
    5.  Gameplay involves players comparing selected attributes from their current card, with the higher attribute winning the round. The game proceeds in real-time.
    6.  **Detailed Gameplay Loop (Turn-by-Turn):**
        *   **Start of Game:** Players' chosen decks are shuffled. Each player's hand is their deck.
        *   **Player's Turn (Attacker):** The player whose turn it is views their top card.
        *   **Attribute Selection:** The attacker selects one of the 6 attributes on their card.
        *   **Card Reveal & Comparison:** Both players' top cards are revealed. The values of the selected attribute are compared.
        *   **Round Winner:** The player with the higher value wins the round.
        *   **Draws:** In case of a draw, cards involved are placed in a central "pot". The winner of the next round collects these pot cards in addition to the cards from that round.
        *   **Card Collection:** The winner collects both cards from the round (and any pot cards) and places them at the bottom of their deck.
        *   **Next Turn:** The winner of the round attacks next.
        *   **Game End:** The game ends when one player has all the cards.

## 3. Key Features
*   User authentication (Email/Password, Google Sign-In).
*   Deck creation and management (max 20 cards per deck).
*   Card customization:
    *   Naming.
    *   AI (Gemini) artwork generation from prompts.
    *   Point allocation for 6 D&D attributes (50 points total).
    *   Assignment of one of 5 predefined special abilities to up to 5 cards per deck.
*   Real-time multiplayer gameplay.
*   Attribute comparison logic to determine round winners.

## 4. Target Audience
*   Players who enjoy casual card games and Top Trumps.
*   Users interested in creative elements like AI art generation and character/card customization.
*   Mobile gamers looking for a quick, engaging multiplayer experience.

## 5. Technical Overview (High-Level)
*   **Frontend:** React, Vite, TypeScript.
*   **State Management:** XState.
*   **Styling:** Griffel (CSS-in-JS) with Headless UI.
*   **Backend:** Firebase Functions (TypeScript).
*   **Database:** Firebase Firestore (with real-time capabilities).
*   **Authentication:** Firebase Authentication.
*   **AI Artwork:** Gemini API.
*   **Image Storage:** Firebase Storage.
*   **Testing:** Vitest (unit/integration), Playwright (E2E).
*   **Iconography:** Font Awesome.
*   **UI/UX:** Mobile-first "Cleaner Dark Theme". Key characteristics:
    *   **Color Palette:** Clean dark greys for backgrounds (e.g., `#202124` body, `#2D2E30` panels) with modern purple/violet (e.g., `#7F5AF0`) as primary brand color and teal/cyan (e.g., `#00BFA5`) as secondary accent. Text is primarily off-white (e.g., `#E8EAED`). (Managed via `src/Theme/Tokens.ts`).
    *   **Typography:** Inter font family for both headings and body text, using different weights for distinction. (Managed via `src/Theme/Tokens.ts` and `@fontsource`).
    *   **Textures:** Removed from global body background (solid color). Textures to be used subtly and only for specific elements like card backgrounds in the game view.
    *   **Gradients & Shadows:** Minimized use; gradients very subtle if used, drop shadows light and for functional lift only.
    *   **Sizing:** Scalable base font size on `:root` with `rem` and `em` units for relative sizing.
    *   Overall: Modern, clean, and accessible dark UI.

## 6. Goals
*   Deliver a functional and engaging MVP (Minimum Viable Product) encompassing the core loop.
*   Provide a smooth and intuitive user experience, especially on mobile devices.
*   Successfully integrate AI artwork generation as a key feature.
*   Implement robust real-time multiplayer functionality.

## 7. Future Enhancements
*   **Progressive Web App (PWA) Support:**
    *   Enable the application to be installable on mobile devices.
    *   Implement push notifications (e.g., using Firebase Cloud Messaging with Firebase Functions) to alert users of game challenges or other relevant events.
*   **AI Opponent:**
    *   Develop functionality for single-player games against an AI opponent.
    *   Create and manage predefined decks for AI opponents.
*   **Enhanced Home Page:**
    *   After login, present users with clear navigation options, such as "Manage Decks" and "Play Game" buttons.
